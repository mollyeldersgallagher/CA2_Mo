{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\N00160464\\\\Desktop\\\\CA2_Mo\\\\src\\\\views\\\\books\\\\Show.js\";\n\n/**\n * @Date:   2020-02-03T10:14:00+00:00\n * @Last modified time: 2020-02-11T20:00:08+00:00\n */\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Badge from 'react-bootstrap/Badge';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\n\nconst Genre = props => React.createElement(Badge, {\n  variant: \"light\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, props.genre);\n\nconst Author = props => React.createElement(Badge, {\n  variant: \"light\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20\n  },\n  __self: this\n}, props.author);\n\nconst AlertDismissible = props => React.createElement(React.Fragment, null, React.createElement(Alert, {\n  show: props.show,\n  variant: \"success\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25\n  },\n  __self: this\n}, React.createElement(Alert.Heading, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26\n  },\n  __self: this\n}, \"How's it going?!\"), React.createElement(\"p\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27\n  },\n  __self: this\n}, \"Are you sure you want to delete\"), React.createElement(\"hr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 30\n  },\n  __self: this\n}), React.createElement(\"div\", {\n  className: \"d-flex justify-content-end\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31\n  },\n  __self: this\n}, React.createElement(Button, {\n  onClick: () => this.setState({\n    show: false\n  }),\n  variant: \"outline-success\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 32\n  },\n  __self: this\n}, \"Delete\"))), !props.show && React.createElement(Button, {\n  onClick: () => this.setState({\n    show: false\n  }),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38\n  },\n  __self: this\n}, \"Show Alert\"));\n\nexport default class BookShow extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      book: {},\n      show: false,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    axios.get(`http://localhost:4000/books/${id}`).then(response => {\n      console.log(response);\n      this.setState({\n        book: response.data,\n        loading: false\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  genreList() {\n    return this.state.book.genre_id.map((currentGenre, index) => {\n      return React.createElement(Genre, {\n        genre: currentGenre.name,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      });\n    });\n  }\n\n  authorList() {\n    console.log(this.state.author);\n    console.log(this.state.book.author);\n    return this.state.book.author_id.map((currentAuthor, index) => {\n      return React.createElement(Author, {\n        author: currentAuthor.name,\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          book = _this$state.book,\n          loading = _this$state.loading,\n          show = _this$state.show;\n\n    if (loading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Loading...\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(AlertDismissible, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(Card.Header, {\n      as: \"h5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, book.title, \" \", React.createElement(\"span\", {\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.genreList())), React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Synopsis\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"There is no synopsis in the DB\"), React.createElement(Button, {\n      as: Link,\n      to: \"/\",\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"View all books\"), React.createElement(Button, {\n      as: Link,\n      onClick: () => {\n        this.setState({\n          show: true\n        });\n      },\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"View all books\")), React.createElement(Card.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, this.authorList()))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/N00160464/Desktop/CA2_Mo/src/views/books/Show.js"],"names":["React","Component","axios","Link","Badge","Card","Button","Alert","Genre","props","genre","Author","author","AlertDismissible","show","setState","BookShow","constructor","state","book","loading","componentDidMount","id","match","params","get","then","response","console","log","data","catch","error","genreList","genre_id","map","currentGenre","index","name","authorList","author_id","currentAuthor","render","title"],"mappings":"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","sourcesContent":["/**\n * @Date:   2020-02-03T10:14:00+00:00\n * @Last modified time: 2020-02-11T20:00:08+00:00\n */\n\n\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Badge from 'react-bootstrap/Badge'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport Alert from 'react-bootstrap/Alert'\n\nconst Genre = props => (\n  <Badge variant=\"light\">{props.genre}</Badge>\n)\nconst Author = props => (\n  <Badge variant=\"light\">{props.author}</Badge>\n)\n\nconst AlertDismissible = props => (\n    <>\n      <Alert show={props.show} variant=\"success\">\n        <Alert.Heading>How's it going?!</Alert.Heading>\n        <p>\n          Are you sure you want to delete \n        </p>\n        <hr />\n        <div className=\"d-flex justify-content-end\">\n          <Button onClick={() => this.setState({ show: false})} variant=\"outline-success\">\n            Delete\n          </Button>\n        </div>\n      </Alert>\n\n      {!props.show && <Button onClick={() => this.setState({ show: false})}>Show Alert</Button>}\n    </>\n)\n\nexport default class BookShow extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      book: {},\n      show: false,\n      loading: true\n    };\n\n  }\n\n  componentDidMount() {\n    const { id } = this.props.match.params;\n\n    axios.get(`http://localhost:4000/books/${id}`)\n    .then(response => {\n      console.log(response);\n      this.setState({\n        book: response.data,\n        loading: false\n      })\n\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n  }\n\n  genreList() {\n    return this.state.book.genre_id.map((currentGenre, index) => {\n      return <Genre genre={currentGenre.name} key={index} />;\n    })\n  }\n  authorList() {\n    console.log(this.state.author);\n    console.log(this.state.book.author);\n      return this.state.book.author_id.map((currentAuthor, index) => {\n        return <Author author={currentAuthor.name} key={index} />;\n      })\n    }\n \n\n  render() {\n\n    const { book, loading, show } = this.state;\n\n    if (loading) {\n      return (\n      <div>\n        <h3>Loading...</h3>\n      </div>\n      )\n    }\n\n    return (\n    <div>\n    <br/>\n      <Card>\n      <AlertDismissible  />\n      <Card.Header as=\"h5\">{book.title} <span className=\"float-right\">{ this.genreList() }</span></Card.Header>\n\n        <Card.Body>\n          <Card.Title>Synopsis</Card.Title>\n          <Card.Text>\n\n            There is no synopsis in the DB\n          </Card.Text>\n          <Button as={Link} to=\"/\" variant=\"primary\">View all books</Button>\n          <Button as={Link} onClick={ ()=>{\n            this.setState({\n              show: true\n            })\n          }} variant=\"primary\">View all books</Button>\n        </Card.Body>\n        <Card.Footer><span className=\"float-right\">{ this.authorList() }</span></Card.Footer>\n      </Card>\n\n    </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}