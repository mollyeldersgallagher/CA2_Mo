{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\N00160464\\\\Desktop\\\\CA2_Mo\\\\src\\\\views\\\\auth\\\\Login.js\";\n\n/**\n * @Date:   2020-01-28T11:34:07+00:00\n * @Last modified time: 2020-02-03T14:29:23+00:00\n */\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = e => {\n      const target = e.target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      const name = target.name;\n      console.log(`Input name ${name}. Input value ${value}.`);\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const user = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      console.log(user);\n      axios.post('http://localhost:4000/account/login', user).then(res => {\n        // save token in local storage\n        localStorage.setItem('jwtToken', res.data.token);\n        this.props.onLogin();\n        console.log(res.data);\n        window.location = 'books/create';\n      }).catch(err => {\n        if (err.response.status === 401) {\n          this.setState({\n            message: 'Login failed. Username or password not match'\n          });\n        }\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Login\"), React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalIMDB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Col, {\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))), React.createElement(Form.Group, {\n      as: Row,\n      controlId: \"formHorizontalTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Col, {\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }))), React.createElement(Form.Group, {\n      as: Row,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: {\n        span: 10,\n        offset: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Login\")))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/N00160464/Desktop/CA2_Mo/src/views/auth/Login.js"],"names":["React","Component","axios","Form","Row","Col","Button","Login","constructor","props","handleInputChange","e","target","value","type","checked","name","console","log","setState","onSubmit","preventDefault","user","email","state","password","post","then","res","localStorage","setItem","data","token","onLogin","window","location","catch","err","response","status","message","render","span","offset"],"mappings":"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","sourcesContent":["/**\n * @Date:   2020-01-28T11:34:07+00:00\n * @Last modified time: 2020-02-03T14:29:23+00:00\n */\n import React, { Component } from 'react';\n import axios from 'axios';\n import Form from 'react-bootstrap/Form'\n import Row from 'react-bootstrap/Row'\n import Col from 'react-bootstrap/Col'\n import Button from 'react-bootstrap/Button'\n\n export default class Login extends Component {\n   constructor(props) {\n     super(props);\n\n     this.state = {\n       email: '',\n       password: ''\n     };\n\n   }\n\n   handleInputChange = e => {\n     const target = e.target;\n     const value = target.type === 'checkbox' ? target.checked : target.value;\n     const name = target.name;\n\n     console.log(`Input name ${name}. Input value ${value}.`);\n\n     this.setState({\n       [name]: value\n     });\n   };\n\n   onSubmit = e => {\n     e.preventDefault();\n\n     const user = {\n       email: this.state.email,\n       password: this.state.password\n     }\n\n     console.log(user);\n\n     axios.post('http://localhost:4000/account/login', user)\n       .then(res => {\n         // save token in local storage\n         localStorage.setItem('jwtToken', res.data.token);\n         this.props.onLogin();\n         console.log(res.data);\n         window.location = 'books/create';\n       })\n       .catch((err) => {\n         if(err.response.status === 401) {\n           this.setState({ message: 'Login failed. Username or password not match' });\n         }\n       });\n   };\n\n   render() {\n\n     return (\n     <div>\n       <h3>Login</h3>\n       <Form onSubmit={this.onSubmit}>\n         <Form.Group as={Row} controlId=\"formHorizontalIMDB\">\n           <Form.Label column sm={2}>\n             Email\n           </Form.Label>\n           <Col sm={10}>\n             <Form.Control type=\"email\" placeholder=\"Email\"\n               name=\"email\"\n               value={this.state.email}\n               onChange={this.handleInputChange}\n             />\n           </Col>\n         </Form.Group>\n\n         <Form.Group as={Row} controlId=\"formHorizontalTitle\">\n           <Form.Label column sm={2}>\n             Password\n           </Form.Label>\n           <Col sm={10}>\n             <Form.Control type=\"password\" placeholder=\"Password\"\n               name=\"password\"\n               value={this.state.password}\n               onChange={this.handleInputChange}\n             />\n           </Col>\n         </Form.Group>\n\n         <Form.Group as={Row}>\n           <Col sm={{ span: 10, offset: 2 }}>\n             <Button type=\"submit\">Login</Button>\n           </Col>\n         </Form.Group>\n       </Form>\n     </div>\n     )\n   }\n }\n"]},"metadata":{},"sourceType":"module"}